---
description: Automatic session priming with exarp-go at conversation start
alwaysApply: true
---

# üöÄ Automatic Session Priming

**‚ö†Ô∏è CRITICAL: Auto-Prime Session at Conversation Start ‚ö†Ô∏è**

## Mandatory Session Priming

**At the START of EVERY new conversation in Cursor, you MUST:**

1. **Automatically call the session prime tool** before responding to the user's request:
   ```json
   {
     "action": "prime",
     "include_hints": true,
     "include_tasks": true
   }
   ```
   For maximum context, use `ask_preferences: true` when the client supports MCP elicitation‚Äîprompts the user for include_tasks/include_hints preferences at prime time.

2. **Use the primed context** to inform your responses and understanding of the project state

3. **Include the primed information** in your initial response to provide context-aware assistance

## When to Prime

- ‚úÖ **Every new conversation** - Prime at the very start
- ‚úÖ **After long breaks** - If conversation has been idle, prime again
- ‚úÖ **When switching contexts** - Prime when user changes topics significantly

## What Session Prime Provides

The `session(action="prime")` tool provides:
- **Agent type detection** - Identifies your role (backend, web, security, general)
- **Mode detection** - Suggests optimal workflow mode based on time of day
- **Task summary** - Recent tasks and current project status
- **Tool hints** - Relevant tools for detected mode
- **Plan path** - Path to current .plan.md file when one exists
- **Plan Mode hint** - Suggests Cursor Plan Mode when backlog has many high-priority or dependency-heavy tasks
- **Handoff notes** - Messages from other developers/machines
- **Companion MCP status** - Checks for other MCP servers
- **status_context** - Machine-readable: `dashboard`, `handoff`, or `task`
- **status_label** - Human-readable label for UI display (e.g. "Project dashboard", "T-123 ‚Äì Add feature X")
- **suggested_next** - When `status_context` is `"task"`, use this list as the **preferred Todos**; prioritize the first item unless the user asks for something else. Use `suggested_next_action` or `cursor_cli_suggestion` to propose the next action.

For the full status contract and how Cursor can use these hints to determine "Todo"s, see [CURSOR_API_AND_CLI_INTEGRATION.md](docs/CURSOR_API_AND_CLI_INTEGRATION.md) ¬ß3.0 and ¬ß3.0.1.

## Implementation

**Example workflow:**
1. User sends first message
2. AI immediately calls `session(action="prime")`
3. AI receives primed context
4. AI uses primed context to provide informed response
5. AI mentions key context points from prime (tasks, mode, handoffs)

## Benefits

- **Context-aware assistance** - Always know current project state
- **Multi-device coordination** - See handoffs from other machines
- **Optimal tool suggestions** - Get relevant tools for your mode
- **Task awareness** - Know what's in progress or needs attention

**Remember: Session priming is automatic and mandatory. Never skip it at conversation start.**
