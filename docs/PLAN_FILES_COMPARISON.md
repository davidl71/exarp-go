# Plan Files in This Repo

Plan files use the **`.plan.md`** suffix (e.g. `exarp-go.plan.md`, `multi-agent-execution.plan.md`), not the literal filename `.plan.md`.

## Generated plan (report action=plan)

- **Default path:** `.cursor/plans/<project-slug>.plan.md` (e.g. `.cursor/plans/exarp-go.plan.md`) so Cursor discovers the plan and shows the Build option. Directory `.cursor/plans/` is created if missing.
- **Cursor-buildable:** YAML frontmatter (`name`, `overview`, `todos`, `isProject: true`, `status: draft`), `---` between sections, task table, mermaid execution order, Out-of-Scope section. Aligned with reference format (e.g. `~/.cursor/plans/configuration_tasks_plan_*.plan.md`). Use `status: draft` for new plans; Cursor may set `status: built` when built.
- **Structure:**
  1. **Scope** (overview paragraph)
  2. **Technical Foundation** (+ critical path summary)
  3. **Backlog Tasks** (table: Task | Priority | Description)
  4. **Iterative Milestones** (checkboxes from Todo2 next actions)
  5. **Recommended Execution Order** (mermaid flowchart + numbered list + Parallel)
  6. **Open Questions** (blockers or placeholder)
  7. **Out-of-Scope / Deferred** (low-priority backlog or placeholder)
- **Content:** Filled from project info, Todo2 tasks, critical path, and risks.
- **Example:** `.cursor/plans/exarp-go.plan.md` after running `report(action="plan")` with default output.

## Scorecard improvement plans (report action=scorecard_plans)

- **Paths:** One plan per scorecard dimension below threshold: `.cursor/plans/improve-testing.plan.md`, `improve-security.plan.md`, `improve-documentation.plan.md`, `improve-completion.plan.md`.
- **When:** Run after scorecard to turn findings into Cursor-buildable plans. Each plan lists recommendations for that metric (testing, security, documentation, completion/quality).
- **CLI:** `exarp-go -tool report -args '{"action":"scorecard_plans"}'` or **Makefile:** `make scorecard-plans`.
- **Hooks:** To create these plans from a git hook (e.g. after scorecard or post-merge), run `make scorecard-plans` or call the report tool with `action=scorecard_plans`. Example post-merge hook: run `make scorecard-plans` so improvement plans stay in sync with the repo after pulls.

## Other .plan.md files in this repo

| File | Purpose | Structure |
|------|---------|-----------|
| **docs/example.plan.md** | Cursor template + music-app example | Same 4 sections as generated; hand-written example content. |
| **.cursor/plans/multi-agent-execution.plan.md** | Multi-agent execution strategy | Overview, Current Status (Research/Implementation), Next Actions, Agent Roles; status/emoji; not the 4-section Cursor template. |
| **.cursor/plans/tag-aware_task_execution_plan.plan.md** | Tag-filtered execution plan feature | Context, Current state, Goal, Implementation steps, Data flow (mermaid); feature plan. |
| **.cursor/plans/multi-agent_parallel_migration_*.plan.md** | Migration/parallel plans | Similar narrative/status style as multi-agent-execution. |

## Comparison

- **Generated** and **docs/example.plan.md** follow the Cursor 4-section structure (Purpose, Technical Foundation, Milestones, Open Questions).
- **.cursor/plans/** plans are hand-written and vary: status/roles, context/goal/implementation, or migration narratives. They are not generated by `report(action="plan")`.

Use the **`.plan.md`** suffix for any new plan file (e.g. `my-feature.plan.md`, `exarp-go.plan.md`).
